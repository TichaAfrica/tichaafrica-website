<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Complete Your Profile â€” TichaAfrica</title>

<meta name="description" content="Add your details to join the Founding Teacher Alliance.">

<meta property="og:title" content="TichaAfrica â€” Teachers Leading AI in Africa">
<meta property="og:description" content="African teachers shaping the future of learning.">
<meta property="og:image" content="https://tichaafrica.com/assets/images/og-image.jpg">
<meta property="og:url" content="https://tichaafrica.com">
<meta property="og:type" content="website">

<link rel="icon" href="/favicon.ico">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Inter',sans-serif;background:#f8f9fc;color:#0f172a;}
main{padding:24px;display:flex;justify-content:center;}
.container{max-width:720px;width:100%;}
.step{font-weight:600;color:#64748b;margin-bottom:16px;}
h1{font-size:clamp(2rem,6vw,3rem);color:#0d5c63;margin-bottom:20px;}
form{background:#fff;padding:32px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);}
label{font-weight:700;margin-top:20px;display:block;margin-bottom:4px;}
input,select,textarea{width:100%;padding:14px;border-radius:10px;border:1px solid #cbd5e1;margin-bottom:20px;}
textarea{min-height:120px;}
.btn{margin-top:28px;width:100%;padding:18px;border:none;border-radius:999px;background:#0d5c63;color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;}
.btn:disabled{opacity:.6;cursor:not-allowed;}
footer{text-align:center;padding:24px;color:#64748b;}
.micro-text{font-size:0.95rem;line-height:1.5;color:#64748b;margin-bottom:16px;}
select option{padding:8px;}
</style>
</head>

<body>

<main>
<div class="container">

<div class="step">Step 3 of 3 â€” Complete Your Profile</div>
<h1>You're helping shape real classroom solutions</h1>

<p class="micro-text">
Your insight is shaping classroom solutions. Let's make it actionableâ€”tell us about yourself so we can connect you with fellow teachers driving change.
</p>

<form
  id="teacherForm"
  name="Founding Teacher Alliance"
  method="POST"
  data-netlify="true"
  netlify-honeypot="bot-field"
>

<input type="hidden" name="form-name" value="Founding Teacher Alliance">
<input type="hidden" name="submissionType" value="Alliance Profile">

<p class="micro-text">
Start by telling us your name; it lets us recognise your contribution and connect you with fellow Founding Teachers.
</p>
<label>Full name</label>
<input name="fullName" placeholder="e.g. Aisha Odinga" required>

<p class="micro-text">
Let us know your school type; this helps us understand different classroom environments across regions.
</p>
<label>School type</label>
<select name="schoolType" required>
  <option value="">Select</option>
  <option>Rural</option>
  <option>Urban</option>
  <option>Peri-urban</option>
</select>

<p class="micro-text">
Choosing your country ensures your classroom insights are placed on the right map so they reach the right teachers and programmes.
</p>
<label>Country</label>
<select id="country" name="country" required>
  <option value="">Tap to select</option>
</select>

<p class="micro-text">
Select your region/state; this helps place your classroom in the right local context for meaningful insights.
</p>
<label>Region / State / Province</label>
<select id="region" name="regionState" required>
  <option value="">Tap to select</option>
</select>

<p class="micro-text">
Share your local area or district so we can connect teachers in your immediate community. This keeps your contribution precise and actionable.
</p>
<label>Local government / District</label>
<input name="localGovt" placeholder="e.g. Nsukka LGA,">

<p class="micro-text">
Let us know what subject and level you teach. This ensures your classroom challenges guide the right resources and training.
</p>
<label>Subject & Level</label>
<input name="subjectLevel" placeholder="e.g. Mathematics (Primary 4â€“6)" required>

<p class="micro-text">
Add your WhatsApp number. We use it to keep you updated and connected with other founding teachers. Your number is private and secure.
</p>
<label>WhatsApp</label>
<div style="display:flex;gap:8px">
  <select id="code"></select>
  <input id="whatsapp" placeholder="7012345678" required>
</div>

<p class="micro-text">
Optional: share your email for updates and insights. It's another way to stay informed and connected.
</p>
<label>Email (optional)</label>
<input type="email" name="email" placeholder="aishaodinga@example.com">

<p class="micro-text">
Help us understand how you found TichaAfrica so we can reach more teachers like you.
</p>
<label>How did you hear about us? (optional)</label>
<select name="referralSource">
  <option value="">Tap to select</option>
  <option>WhatsApp</option>
  <option>Facebook</option>
  <option>Twitter/X</option>
  <option>LinkedIn</option>
  <option>Instagram</option>
  <option>Friend/Colleague</option>
  <option>School/Training</option>
  <option>Google Search</option>
  <option>Other</option>
</select>

<button class="btn" id="submitBtn">
Unlock your badge and join teachers shaping real classroom tools â†’
</button>

</form>

</div>
</main>

<footer>Â© 2026 TichaAfrica â€¢ Teach Smart. Lead Change.</footer>

<!-- Hidden form for Netlify detection -->
<form name="Founding Teacher Alliance" netlify netlify-honeypot="bot-field" hidden>
  <input type="text" name="fullName" />
  <input type="text" name="schoolType" />
  <input type="text" name="country" />
  <input type="text" name="regionState" />
  <input type="text" name="localGovt" />
  <input type="text" name="subjectLevel" />
  <textarea name="insight"></textarea>
  <input type="text" name="whatsapp" />
  <input type="email" name="email" />
  <input type="text" name="referralSource" />
  <input type="text" name="submissionType" />
</form>

<script>
// âœ… Your Google Apps Script webhook
const GOOGLE_WEBHOOK = "https://script.google.com/macros/s/AKfycby47eYtGdiiVw81z6V0tsvTDyhZe43vmaTP7oK8mNcRVWawBUNpoa1PZ5fGWD2JHl0E/exec";

const countries = {
  "ðŸ‡¨ðŸ‡² Cameroon": {code: "+237", regions: ["Adamawa", "Centre", "East", "Far North", "Littoral", "North", "North-West", "South", "South-West", "West"]},
  "ðŸ‡ªðŸ‡¬ Egypt": {code: "+20", regions: ["Alexandria", "Aswan", "Beheira", "Beni Suef", "Cairo", "Dakahlia", "Damietta", "Faiyum", "Gharbia", "Giza", "Ismailia", "Kafr El Sheikh", "Luxor", "Matruh", "Minya", "Monufia", "New Valley", "North Sinai", "Port Said", "Qalyubia", "Qena", "Red Sea", "Sharqia", "Sohag", "South Sinai", "Suez"]},
  "ðŸ‡ªðŸ‡¹ Ethiopia": {code: "+251", regions: ["Addis Ababa", "Afar", "Amhara", "Benishangul-Gumuz", "Dire Dawa", "Gambela", "Harari", "Oromia", "Sidama", "Somali", "Southern Nations, Nationalities, and Peoples' Region", "Tigray"]},
  "ðŸ‡¬ðŸ‡­ Ghana": {code: "+233", regions: ["Ahafo", "Ashanti", "Bono", "Bono East", "Central", "Eastern", "Greater Accra", "North East", "Northern", "Oti", "Savannah", "Upper East", "Upper West", "Volta", "Western", "Western North"]},
  "ðŸ‡°ðŸ‡ª Kenya": {code: "+254", regions: ["Baringo", "Bomet", "Bungoma", "Busia", "Elgeyo-Marakwet", "Embu", "Garissa", "Homa Bay", "Isiolo", "Kajiado", "Kakamega", "Kericho", "Kiambu", "Kilifi", "Kirinyaga", "Kisii", "Kisumu", "Kitui", "Kwale", "Laikipia", "Lamu", "Machakos", "Makueni", "Mandera", "Meru", "Migori", "Mombasa", "Murang'a", "Nairobi", "Nakuru", "Nandi", "Narok", "Nyamira", "Nyandarua", "Nyeri", "Samburu", "Siaya", "Taita-Taveta", "Tana River", "Tharaka-Nithi", "Trans-Nzoia", "Turkana", "Uasin Gishu", "Vihiga", "Wajir", "West Pokot"]},
  "ðŸ‡³ðŸ‡¬ Nigeria": {code: "+234", regions: ["Abia", "Adamawa", "Akwa Ibom", "Anambra", "Bauchi", "Bayelsa", "Benue", "Borno", "Cross River", "Delta", "Ebonyi", "Edo", "Ekiti", "Enugu", "FCT", "Gombe", "Imo", "Jigawa", "Kaduna", "Kano", "Katsina", "Kebbi", "Kogi", "Kwara", "Lagos", "Nasarawa", "Niger", "Ogun", "Ondo", "Osun", "Oyo", "Plateau", "Rivers", "Sokoto", "Taraba", "Yobe", "Zamfara"]},
  "ðŸ‡·ðŸ‡¼ Rwanda": {code: "+250", regions: ["Eastern", "Kigali", "Northern", "Southern", "Western"]},
  "ðŸ‡¸ðŸ‡³ Senegal": {code: "+221", regions: ["Dakar", "Diourbel", "Fatick", "Kaolack", "Kaffrine", "KÃ©dougou", "Kolda", "Louga", "Matam", "Saint-Louis", "SÃ©dhiou", "Tambacounda", "ThiÃ¨s", "Ziguinchor"]},
  "ðŸ‡¿ðŸ‡¦ South Africa": {code: "+27", regions: ["Eastern Cape", "Free State", "Gauteng", "KwaZulu-Natal", "Limpopo", "Mpumalanga", "North West", "Northern Cape", "Western Cape"]},
  "ðŸ‡ºðŸ‡¬ Uganda": {code: "+256", regions: ["Central", "Eastern", "Northern", "Western"]}
};

const countrySel = document.getElementById("country");
const regionSel = document.getElementById("region");
const codeSel = document.getElementById("code");

// Populate countries with flags
Object.keys(countries).sort().forEach(c => {
  const option = new Option(c, c.replace(/^ðŸ‡¨ðŸ‡²|ðŸ‡ªðŸ‡¬|ðŸ‡ªðŸ‡¹|ðŸ‡¬ðŸ‡­|ðŸ‡°ðŸ‡ª|ðŸ‡³ðŸ‡¬|ðŸ‡·ðŸ‡¼|ðŸ‡¸ðŸ‡³|ðŸ‡¿ðŸ‡¦|ðŸ‡ºðŸ‡¬\s/, ''));
  countrySel.add(option);
});

// Update regions when country changes
countrySel.onchange = () => {
  regionSel.innerHTML = '<option value="">Tap to select</option>';
  codeSel.innerHTML = "";
  
  // Find country data by matching the country name (without flag)
  const selectedCountry = Object.keys(countries).find(key => 
    key.includes(countrySel.value)
  );
  
  const c = countries[selectedCountry];
  if (c) {
    codeSel.add(new Option(c.code, c.code));
    c.regions.forEach(r => regionSel.add(new Option(r, r)));
  }
};

// Form submission
document.getElementById("teacherForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  
  const btn = document.getElementById("submitBtn");
  const originalText = btn.textContent;
  btn.disabled = true;
  btn.textContent = "Submitting...";

  try {
    const form = e.target;
    const formData = new FormData(form);
    
    // Add WhatsApp with country code
    const cleanPhone = document.getElementById("whatsapp").value.replace(/\D/g, "");
    formData.set("whatsapp", codeSel.value + cleanPhone);
    
    // Get insight from Step 2
    const insight = sessionStorage.getItem("tichaInsight") || "";
    formData.set("insight", insight);

    // Ensure all fields exist
    const fields = [
      "form-name", "submissionType", "fullName", "schoolType", 
      "country", "regionState", "localGovt", "subjectLevel", 
      "insight", "whatsapp", "email", "referralSource"
    ];
    
    fields.forEach(field => {
      if (!formData.has(field)) formData.append(field, "");
    });

    // Send to Google Sheets
    const googleResponse = await fetch(GOOGLE_WEBHOOK, {
      method: "POST",
      body: formData
    });

    const result = await googleResponse.json();
    console.log("Google Sheets:", result);

    // Send to Netlify Forms (backup)
    await fetch("/", {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: new URLSearchParams(formData).toString()
    });

    // Clear insight
    sessionStorage.removeItem("tichaInsight");
    
    // Redirect
    window.location.href = "/alliance/thank-you/";

  } catch (error) {
    console.error("Error:", error);
    
    // Continue anyway
    sessionStorage.removeItem("tichaInsight");
    window.location.href = "/alliance/thank-you/";
  }
});
</script>

</body>
</html>
